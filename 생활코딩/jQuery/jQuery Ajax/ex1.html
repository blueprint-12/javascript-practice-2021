<!DOCTYPE html>
<html lang="kr">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>jQuery에서 Ajax사용하기</title>
  </head>
  <body>
    <p>
      jQuery를 이용해서 Ajax를 사용하면 많은 이점이 있는데 그 중의 하나가
      크로스브라우징의 문제를 jQuery가 알아서 해결해준다는 점
    </p>
    <!-- //서버쪽 ./time.php는 코드 편집기에서 지원하지 않기 때문에 생략 -->
    <p>time : <span id="time"></span></p>
    <input type="button" id="execute" value="execute" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script>
      //GET방식
      $("#execute").click(function () {
        $.ajax({
          url: "./time.php",
          success: function (data) {
            $("#time").append(data);
          },
        });
      });
      //아래는 POST 방식
      $("#execute").click(function () {
        $.ajax({
          url: "./time2.php",
          type: "post",
          //아래 코드는 form 태그의 정보를 값의이름=값의내용&값 의 형식으로 바꿔준다.
          data: $("form").serialize(),
          success: function (data) {
            $("#time").text(data);
          },
        });
      }) <
        //JSON(데이터 포맷) 처리, GET방식
        script >
        $("#execute").click(function () {
          $.ajax({
            url: "./time3.php",
            dataType: "json",
            success: function (data) {
              const str = "";
              for (let name in data) {
                str += "<li>" + data[name] + "</li>";
              }
              $("#timezones").html("<ul>" + str + "</ul>");
            },
          });
        });
    </script>
  </body>
</html>
